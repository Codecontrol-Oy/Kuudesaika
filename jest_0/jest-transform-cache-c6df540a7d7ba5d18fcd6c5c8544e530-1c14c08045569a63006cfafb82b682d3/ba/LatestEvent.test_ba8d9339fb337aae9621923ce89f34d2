'use strict';




jest.mock('react-router', function () {return { browserHistory: { push: jest.fn() } };});var _react = require('react');var _react2 = _interopRequireDefault(_react);var _LatestEvent = require('./LatestEvent');var _LatestEvent2 = _interopRequireDefault(_LatestEvent);var _Organization = require('../../../mock/Organization.json');var _Organization2 = _interopRequireDefault(_Organization);var _sinon = require('sinon');var _sinon2 = _interopRequireDefault(_sinon);var _reactRouter = require('react-router');function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

describe("<LatestEvent />", function () {

    it("Matches snapshot", function () {
        var latestEvent = shallow(
        _react2.default.createElement(_LatestEvent2.default, { organization: _Organization2.default }));

        expect(latestEvent).toMatchSnapshot();
    });

    it("Should redirect to organization on click", function () {

        var latestEvent = mount(
        _react2.default.createElement(_LatestEvent2.default, { organization: _Organization2.default }));

        var callback = _sinon2.default.spy(latestEvent.instance(), 'onLinkAction');
        var organizationLink = latestEvent.find('a');
        organizationLink.simulate('click');
        expect(callback.calledOnce).toEqual(true);
        expect(_reactRouter.browserHistory.push).toHaveBeenCalled();
    });
});